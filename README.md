# 東京都立大学システムデザイン学部・研究科 インダストリアルアート学科・学域 卒業・修了制作研究展 2026

## 開発について

- パッケージ
  - pnpm でパッケージの管理
- 日英対応
  - 文章は基本的に全て public/locales/配下で管理し、言語切り替えに対応
  - client コンポーネントで出し分けを行う
    - 'use client'がファイルのトップにあるもの
- ブランチ
  - 機能単位でブランチ切る
  - staging で他班と共有？

### ファイル構造

- app/i18n.ts
  - 言語切り替え
- app/\[locale\]
  - 基本的にこの中をいじる
  - ブラウザ言語によって ja/en が切り替わる
    - ja の時は prefix なし
    - en の時に url に/en が入る(ja: /works, en: /en/works)
  - page.tsx
    - トップページ
  - layout.tsx
    - 全てのページに共通する要素を設定
  - components
    - 再利用可能なパーツを格納
  - features
    - 機能を含む UI を格納(.tsx)
  - lib
    - 機能を提供（.ts）
  - works
    - page.tsx
      - 作品一覧ページ
    - \[slug\]
      - page.tsx
        - 個別作品ページ
- public
  - locales
    - 基本的に全ての文章をここで管理、日英で出しわけ

## 環境構築

このプロジェクトを開発するために必要なソフトウェアと、そのセットアップ方法を説明します。Web アプリ開発が初めての方でも、この手順に従って環境を構築できます。

### 必要なソフトウェア

以下のソフトウェアが必要です：

1. **Git** - ソースコードのバージョン管理ツール
2. **Node.js** (バージョン 20.20.0 以上) - JavaScript の実行環境
3. **pnpm** - Node.js のパッケージ管理ツール
4. **エディタ** (推奨: Visual Studio Code) - コードを編集するためのソフトウェア

### セットアップ手順

#### 1. Git のインストール

Git は、ソースコードの変更履歴を管理するためのツールです。

**macOS の場合：**

- Xcode Command Line Tools がインストールされていれば、Git も含まれています
- ターミナルを開いて、以下のコマンドでインストールを確認します：

  ```bash
  git --version
  ```

- インストールされていない場合は、以下のコマンドでインストールできます：

  ```bash
  xcode-select --install
  ```

**Windows の場合：**

- [Git for Windows](https://git-scm.com/download/win) からインストーラーをダウンロードしてインストールしてください

**Linux の場合：**

- パッケージマネージャーを使用してインストールします（例：Ubuntu/Debian の場合）

  ```bash
  sudo apt update
  sudo apt install git
  ```

#### 2. Node.js のインストール

Node.js は、JavaScript をサーバー側で実行するための環境です。このプロジェクトでは、バージョン 20.20.0 以上が必要です。

##### 推奨方法：nvm を使用する場合

nvm（Node Version Manager）を使用すると、複数の Node.js バージョンを簡単に切り替えられます。

**macOS / Linux の場合：**

1. ターミナルを開いて、以下のコマンドで nvm をインストールします：

   ```bash
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
   ```

2. ターミナルを再起動するか、以下のコマンドを実行します：

   ```bash
   source ~/.bashrc
   # または
   source ~/.zshrc
   ```

3. nvm がインストールされたことを確認します：

   ```bash
   nvm --version
   ```

4. Node.js をインストールします（プロジェクトには`.nvmrc`ファイルが含まれているため、自動的に正しいバージョンがインストールされます）：

   ```bash
   nvm install
   nvm use
   ```

5. インストールされたことを確認します：

   ```bash
   node --version
   ```

   バージョンが 20.20.0 以上であることを確認してください。

**Windows の場合：**

- [nvm-windows](https://github.com/coreybutler/nvm-windows/releases) からインストーラーをダウンロードしてインストールしてください
- インストール後、ターミナルを再起動して以下のコマンドを実行します：

  ```bash
  nvm install 20.20.0
  nvm use 20.20.0
  ```

**nvm を使用しない場合：**

- [Node.js の公式サイト](https://nodejs.org/ja/) から LTS 版（推奨版）をダウンロードしてインストールしてください
- インストール後、ターミナルで以下のコマンドでバージョンを確認します：

  ```bash
  node --version
  ```

  バージョンが 20.20.0 以上であることを確認してください。

#### 3. pnpm のインストール

pnpm は、Node.js のパッケージ（ライブラリ）を管理するためのツールです。

**インストール方法：**

ターミナルで以下のコマンドを実行します：

```bash
npm install -g pnpm
```

**macOS / Linux で権限エラーが出る場合：**

```bash
sudo npm install -g pnpm
```

インストールが完了したら、以下のコマンドで確認します：

```bash
pnpm --version
```

#### 4. エディタのインストール（推奨）

コードを編集するために、エディタが必要です。以下のいずれかをインストールしてください。

##### Cursor（推奨）

Cursor は AI 機能を統合したエディタで、コード補完や質問への回答など、開発をサポートする機能が充実しています。

- [Cursor の公式サイト](https://cursor.sh/) からダウンロードしてインストールしてください
- AI 機能により、コードの理解や実装のサポートが受けられます

##### Visual Studio Code（VS Code）

VS Code は、Microsoft が開発した無料のエディタです。豊富な拡張機能が利用できます。

- [Visual Studio Code の公式サイト](https://code.visualstudio.com/) からダウンロードしてインストールしてください

##### 推奨拡張機能

Cursor または VS Code のいずれを使用する場合でも、以下の拡張機能をインストールすることを推奨します。これらにより、コードの品質向上と開発効率の向上が期待できます。

- **ESLint** - コードの品質チェックを行い、潜在的な問題を検出します
- **Prettier** - コードの自動フォーマットを行い、コードスタイルを統一します
- **TypeScript** - TypeScript の型チェックと IntelliSense を提供します

拡張機能のインストール方法：

- **Cursor**: 左側の拡張機能アイコン（または `Cmd + Shift + X` / `Ctrl + Shift + X`）から検索してインストール
- **VS Code**: 左側の拡張機能アイコン（または `Cmd + Shift + X` / `Ctrl + Shift + X`）から検索してインストール

#### 5. リポジトリのクローン

プロジェクトのソースコードを自分の PC にダウンロードします。

1. ターミナルを開きます
2. プロジェクトを保存したいディレクトリに移動します（例：デスクトップ）

   ```bash
   cd ~/Desktop
   ```

3. リポジトリをクローンします：

   ```bash
   git clone <リポジトリのURL>
   ```

4. プロジェクトのディレクトリに移動します：

   ```bash
   cd ia-tmu-ge2026
   ```

#### 6. 依存関係のインストール

プロジェクトで使用するライブラリをインストールします。

```bash
pnpm install
```

このコマンドを実行すると、`package.json`に記載されている必要なパッケージが自動的にインストールされます。初回は数分かかる場合があります。

#### 7. 開発サーバーの起動

開発用のサーバーを起動して、ブラウザでアプリケーションを確認できます。

```bash
pnpm dev
```

コマンドを実行すると、以下のようなメッセージが表示されます：

```text
  ▲ Next.js 16.x.x
  - Local:        http://localhost:3000
```

ブラウザで `http://localhost:3000` を開くと、アプリケーションが表示されます。

開発サーバーを停止するには、ターミナルで `Ctrl + C`（macOS/Linux）または `Ctrl + C`（Windows）を押します。

#### 8. ビルド（本番用のファイル生成）

本番環境にデプロイする前に、プロジェクトをビルドします。

```bash
pnpm build
```

ビルドが成功すると、`.next` ディレクトリに最適化されたファイルが生成されます。

### トラブルシューティング

**Node.js のバージョンが合わない場合：**

- nvm を使用している場合：`nvm use` を実行してください
- nvm を使用していない場合：Node.js を 20.20.0 以上にアップデートしてください

**pnpm コマンドが認識されない場合：**

- ターミナルを再起動してください
- `npm install -g pnpm` を再度実行してください

**依存関係のインストールでエラーが出る場合：**

- Node.js のバージョンが 20.20.0 以上であることを確認してください
- `node_modules` フォルダと `pnpm-lock.yaml` を削除して、再度 `pnpm install` を実行してください

**開発サーバーが起動しない場合：**

- ポート 3000 が他のアプリケーションで使用されていないか確認してください
- エラーメッセージを確認して、必要なパッケージがインストールされているか確認してください
